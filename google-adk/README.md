# Grant Search ADK (ローカル実行版)

Grant Search ADK は、研究者向けの助成金検索を支援するアプリケーションです。
このバージョンは、Docker を使用せずにローカル環境で直接実行するためのものです。

## 動作環境

*   Python 3.10 以上 (3.13 未満を推奨)
*   `uv` Python パッケージングツール (セットアップスクリプト内でインストールを案内します)
*   OS: macOS, Linux, Windows (WSL2を推奨)

## セットアップ手順

1.  **リポジトリのクローンまたはZIPファイルの展開**
    このアプリケーションのファイル一式を入手し、任意のディレクトリに配置します。
    (ZIPファイルで配布された場合は、このファイルを展開してください。)

2.  **セットアップスクリプトの実行**
    ターミナルを開き、アプリケーションのルートディレクトリ (この `README.md` がある場所) に移動してください。
    その後、以下のコマンドを実行して、必要なPython環境のセットアップと依存ライブラリのインストールを行います。

    ```bash
    bash setup_env.sh
    ```
    スクリプトの指示に従ってください。途中で `uv` のインストールが必要な場合は、その旨が案内されます。
    正常に完了すると、`.venv` という名前の仮想環境が作成されます。

3.  **アプリケーションの起動**
    セットアップスクリプト完了後、以下のコマンドを実行してアプリケーションを起動します。
    (`run_ui.sh` が仮想環境を自動的に使用します。)

    ```bash
    bash run_ui.sh
    ```

4.  **APIキーの設定 (初回起動時)**
    アプリケーションが起動すると、ブラウザでUIが開きます (通常は `http://localhost:8501`)。
    初回起動時やAPIキーが設定されていない場合は、UI上でGoogle Gemini APIキーの入力を求められます。
    画面の指示に従って、お持ちのAPIキーを設定してください。APIキーは [Google AI Studio](https://makersuite.google.com/app/apikey) から取得できます。
    設定されたAPIキーは、アプリケーションディレクトリ直下の `.env` ファイルに保存されます。

## 利用方法

1.  上記の手順でアプリケーションを起動します。
2.  ブラウザで表示されたUIの指示に従って操作してください。
    *   ユーザープロファイルの入力・編集
    *   助成金の検索実行
    *   検索結果の確認 など

## トラブルシューティング

*   **`uv: command not found` と表示される場合**:
    `setup_env.sh` の指示に従って `uv` をインストールしてください。
*   **`./run_ui.sh: .venv/bin/python: No such file or directory` のようなエラーが出る場合**:
    `./setup_env.sh` が正常に完了しているか確認してください。仮想環境 `.venv` が正しく作成されていない可能性があります。
*   **ポートが既に使用されていると表示される場合 (`Address already in use`)**: 
    `run_ui.sh` を実行する際に、環境変数 `PORT` を設定することで使用ポートを変更できます。
    例: `PORT=8502 bash run_ui.sh`
*   **その他**:
    問題が発生した場合は、ターミナルに出力されるエラーメッセージをご確認ください。

## ディレクトリ構成の概要

```
grant-search-adk/
├── .venv/                # Python仮想環境 (setup_env.sh で生成)
├── agents/               # エージェント定義
├── config/               # 設定ファイル (タスク、エージェントモデル)
├── knowledge/            # ユーザープロファイルやPDFなど
├── logs/                 # アプリケーションログ
├── results/              # 検索結果などの出力
├── tools/                # 各種ツールスクリプト
├── .env                  # APIキーなどの環境変数 (UIから設定後、自動生成)
├── pyproject.toml        # Pythonプロジェクト定義
├── uv.lock               # 依存関係ロックファイル
├── setup_env.sh          # 環境セットアップスクリプト
├── run_ui.sh             # アプリケーション起動スクリプト
├── streamlit_app.py      # Streamlit UIアプリケーション本体
└── README.md             # このファイル
```

## アンインストール (環境の削除)

このアプリケーションに関連するファイルやディレクトリを削除することで、アンインストールできます。
具体的には、このアプリケーションを配置したディレクトリ全体を削除してください。
Pythonの仮想環境 `.venv` もこのディレクトリ内に含まれています。 